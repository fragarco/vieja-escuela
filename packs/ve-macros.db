{"name":"Ataque con arma 2","type":"script","author":"A0WS7SJVU6j1DOrv","img":"systems/vieja-escuela/assets/icons/actions/ataque2.png","scope":"global","command":"const speaker = ChatMessage.getSpeaker();\nlet actor;\nif (speaker.token) actor = game.actors.tokens[speaker.token];\nif (!actor) actor = game.actors.get(speaker.actor);\n\nif (actor === undefined) {\n  return ui.notifications.warn(\"A token must be selected first\");\n}\nconst weapons = actor.data.items.filter((i) => {\n return (i.data.type === \"weapon\" && !i.data.data.stored);\n});\n\nif (weapons.length < 2) {\n  return ui.notifications.warn(\"You don't have a second equipped weapon\");\n}\n\nreturn weapons[1].roll();","folder":null,"sort":0,"permission":{"default":0,"A0WS7SJVU6j1DOrv":3},"flags":{"core":{"sourceId":"Macro.hEQWZLzn6e2WvHz1"}},"_id":"Se9rS31EmL3ZOnZj"}
{"name":"Ataque con arma 1","type":"script","author":"A0WS7SJVU6j1DOrv","img":"systems/vieja-escuela/assets/icons/actions/ataque1.png","scope":"global","command":"const speaker = ChatMessage.getSpeaker();\nlet actor;\nif (speaker.token) actor = game.actors.tokens[speaker.token];\nif (!actor) actor = game.actors.get(speaker.actor);\n\nif (actor === undefined) {\n  return ui.notifications.warn(\"A token must be selected first\");\n}\nconst weapons = actor.data.items.filter((i) => {\n return (i.data.type === \"weapon\" && !i.data.data.stored);\n});\n\nif (weapons.length < 1) {\n  return ui.notifications.warn(\"You don't have any equipped weapon\");\n}\n\nreturn weapons[0].roll();","folder":null,"sort":0,"permission":{"default":0,"A0WS7SJVU6j1DOrv":3},"flags":{"core":{"sourceId":"Macro.hEQWZLzn6e2WvHz1"}},"_id":"nAEuPAODcfQrbDiJ"}
{"name":"Ataque con arma 3","type":"script","author":"A0WS7SJVU6j1DOrv","img":"systems/vieja-escuela/assets/icons/actions/ataque3.png","scope":"global","command":"const speaker = ChatMessage.getSpeaker();\nlet actor;\nif (speaker.token) actor = game.actors.tokens[speaker.token];\nif (!actor) actor = game.actors.get(speaker.actor);\n\nif (actor === undefined) {\n  return ui.notifications.warn(\"A token must be selected first\");\n}\nconst weapons = actor.data.items.filter((i) => {\n return (i.data.type === \"weapon\" && !i.data.data.stored);\n});\n\nif (weapons.length < 3) {\n  return ui.notifications.warn(\"You don't have a third equipped weapon\");\n}\n\nreturn weapons[2].roll();","folder":null,"sort":0,"permission":{"default":0,"A0WS7SJVU6j1DOrv":3},"flags":{"core":{"sourceId":"Macro.hEQWZLzn6e2WvHz1"}},"_id":"xaUTHWvmCndfyBeW"}
